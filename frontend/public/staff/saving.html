<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>แดชบอร์ดพนักงาน</title>
    <link rel="stylesheet" href="/styles/staff-dashboard.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="dashboard-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header" style="display: flex; justify-content: center; align-items: center; height: 100px;">
                <img src="/images/logo-sidebar.png" alt="" width="100" height="100" style="margin: 10px 0;">
            </div>
            <ul class="sidebar-menu">
                <li><a href="/staff/"><i class="fas fa-home"></i> หน้าหลัก</a></li>
                <li><a href="/staff/setting.html"><i class="fas fa-cog"></i> การตั้งค่า</a></li>
                <li><a href="/staff/manage-users.html"><i class="fas fa-users"></i> จัดการผู้ใช้</a></li>
                <li><a href="/staff/saving.html" class="active"><i class="fa-solid fa-piggy-bank"></i> การออม</a></li>
                <li><a href="/staff/promise.html"><i class="fa-solid fa-money-check-dollar"></i> สัญญา</a></li>
                <li><a href="/staff/reports.html"><i class="fas fa-chart-bar"></i> รายงาน</a></li>
                <li><a href="/logout" id="logoutButton"><i class="fas fa-sign-out-alt"></i> ออกจากระบบ</a></li>
            </ul>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header>
                <h1>แดชบอร์ดพนักงาน</h1>
                <nav>
                    <ul>
                        <li><button id="toggleSidebar"><i class="fas fa-bars"></i></button></li>
                    </ul>
                </nav>
            </header>

            <!-- ส่วนแสดงรายชื่อบัญชีทั้งหมด -->
            <section class="account-list">
                <h2>บัญชีการออม</h2><button id="addUserButton"><i class="fa-solid fa-user-plus" ></i>เพิ่มบัญชี</button>
                <div class="usersTable">
                    <table>
                        <thead>
                            <tr>
                                <th>หมายเลขบัญชี</th>
                                <th>ชื่อสมาชิก</th>
                                <th>ยอดคงเหลือ</th>
                                <th>ชื่อพนักงาน</th>
                                <th>วันที่สร้าง</th>
                                <th>การกระทำ</th>
                            </tr>
                        </thead>
                        <tbody id="accountTableBody">
                            <tr>
                                <td colspan="6">กำลังโหลดบัญชี...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Modal สำหรับเพิ่มบัญชี -->
            <div id="addUserModal" class="modal">
                <div class="modal-content">
                    <span class="close">&times;</span>
                    <h2>เพิ่มบัญชีใหม่</h2>
                    <form id="addUserForm">
                        <label for="addName">ชื่อ:</label>
                        <select id="addName" name="name" required>
                            <!-- Option จะถูกเติมโดย JavaScript ที่ดึงข้อมูลจากฐานข้อมูล -->
                        </select>

                        <label for="selectedUserId">หมายเลขผู้ใช้ที่เลือก:</label>
                        <input type="text" id="selectedUserId" name="selectedUserId" readonly />

                        <label for="addBalance">ยอดคงเหลือ:</label>
                        <input type="number" id="addBalance" name="balance" required>

                        <label for="addStaffId">หมายเลขพนักงาน:</label>
                        <input type="text" id="addStaffId" name="staffId" required readonly>

                        <button type="submit">เพิ่มบัญชี</button>
                    </form>
                </div>
            </div>

            <!-- Modal สำหรับแก้ไขข้อมูลผู้ใช้ -->
            <div id="editUserModal" class="modal">
                <div class="modal-content">
                    <span class="close">&times;</span>
                    <h2>แก้ไขข้อมูลผู้ใช้</h2>
                    <form id="editUserForm">
                        <input type="hidden" id="editUserId" name="userId" /> <!-- Hidden input for user ID -->
                        <div>
                            <label for="editName">ชื่อ:</label>
                            <input type="text" id="editName" name="name" readonly/>
                        </div>
                        <div>
                            <label for="editBalance">ยอดคงเหลือ:</label>
                            <input type="number" id="editBalance" name="balance" required />
                        </div>
                        <div>
                            <label for="editStaffId">หมายเลขพนักงาน:</label>
                            <input type="text" id="editStaffId" name="staffId" readonly />
                        </div>
                        <button type="submit">บันทึกการเปลี่ยนแปลง</button>
                    </form>
                </div>
            </div>

            <div id="transactionModal" class="modal">
                <div class="modal-content">
                    <span class="close">&times;</span>
                    <h2>ธุรกรรม</h2>
                    <form id="transactionForm">
                        <input type="hidden" id="transactionUserId">
                        <label for="transactionName">ชื่อผู้ใช้:</label>
                        <input type="text" id="transactionName" disabled>
            
                        <label for="transactionBalance">ยอดคงเหลือปัจจุบัน:</label>
                        <input type="text" id="transactionBalance" disabled>
            
                        <label for="transactionStaffId">ชื่อพนักงาน:</label>
                        <input type="text" id="transactionStaffId" disabled>
            
                        <label for="transactionAmount">จำนวนเงิน:</label>
                        <input type="number" id="transactionAmount" required>
            
                        <label for="transactionType">ประเภทการทำธุรกรรม:</label><br>
                        <input type="radio" id="deposit" name="transactionType" value="deposit" required> ฝากเงิน
                        <input type="radio" id="withdraw" name="transactionType" value="withdraw" required> ถอนเงิน
            
                        <button type="submit">ยืนยัน</button>
                    </form>
                </div>
            </div>

        </main>
    </div>
    <script src="/staff/scripts/saving.js"></script>
</body>
</html>
